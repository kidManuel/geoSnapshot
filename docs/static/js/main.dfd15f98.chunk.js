(this.webpackJsonpsnapshot=this.webpackJsonpsnapshot||[]).push([[0],{39:function(e,t,a){e.exports=a(82)},44:function(e,t,a){},45:function(e,t,a){},82:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(9),i=a.n(r),l=(a(44),a(45),a(11)),o=a(34),s=a(13),m=a(14),u=a(15),g=a(5),h=a(16),d=a(17),p=a(35),f=a.n(p),v=a(38),b=a(6),E=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this.props;(0,e.fetchCallback)(e.searchTerm)}},{key:"componentDidUpdate",value:function(e){var t=this.props,a=t.fetchCallback,n=t.searchTerm;e.searchTerm!==n&&a(n)}},{key:"render",value:function(){var e=this.props,t=e.loading,a=e.images,n=e.toggleImageCallback,r=e.selectedImages;return c.a.createElement("div",{className:"category"},t?c.a.createElement(C,null):c.a.createElement(N,{data:a,selectedImages:r,toggleImageCallback:n}))}}]),a}(n.Component),k=a(8),S=function(e){var t=e.handleSubmit,a=e.history,r=Object(n.useState)(""),i=Object(k.a)(r,2),l=i[0],o=i[1];Object(n.useEffect)((function(){return a.listen((function(){o("")}))}),[a]);return c.a.createElement("form",{className:"search-form",onSubmit:function(e){return function(e){t(l,a,e)}(e)}},c.a.createElement("input",{type:"text",name:"search",placeholder:"Search...",onChange:function(e){o(e.target.value)},value:l,className:"searchInput"}),c.a.createElement("button",{type:"submit",className:"search-button ".concat(l.trim()?"active":null),disabled:!l.trim()},c.a.createElement("svg",{className:"searchIcon",height:"32",width:"32"},c.a.createElement("path",{d:"M19.427 21.427a8.5 8.5 0 1 1 2-2l5.585 5.585c.55.55.546 1.43 0 1.976l-.024.024a1.399 1.399 0 0 1-1.976 0l-5.585-5.585zM14.5 21a6.5 6.5 0 1 0 0-13 6.5 6.5 0 0 0 0 13z",fill:"#ffffff",fillRule:"evenodd"}))))},N=function(e){var t=e.data,a=e.toggleImageCallback,n=e.selectedImages,r=function(e){return!!n.find((function(t){return t.id===e.id}))};return c.a.createElement("div",{className:"imageGallery styledScrollbar"},t.length?t.map((function(e){return c.a.createElement(I,{key:e.id,data:e,toggleCallback:a,isSelected:r(e),isInGrid:!0})})):c.a.createElement(T,null))},y=a(18),I=function(e){var t=e.data,a=e.toggleCallback,n=void 0===a?function(){}:a,r=e.isSelected,i=e.isInGrid,l=t.farm,o=t.server,s=t.id,m=t.secret,u=t.title;return c.a.createElement("div",{className:"imageThumbnailWrapper ".concat(r?"active":"inactive"," ").concat(i?"inGrid":"static"),onClick:function(){return n(t)}},c.a.createElement("img",{className:"imageElement",src:"https://farm".concat(l,".staticflickr.com/").concat(o,"/").concat(s,"_").concat(m,"_m.jpg"),alt:u}),u?c.a.createElement("div",{className:"imageName"},u.length>50?"".concat(u.slice(0,45),"..."):u):null)},O=Object(y.GoogleApiWrapper)({apiKey:"AIzaSyDmYGxBHZfm1i3kGKqNgT5zXTW2gMBOw88"})((function(e){var t=e.google,a=e.items,r=e.toggleMap,i=Object(n.useState)(null),l=Object(k.a)(i,2),o=l[0],s=l[1],m=function(e){var t=e.latitude,a=e.longitude,n=e.title,r=e.id;return c.a.createElement(y.Marker,{title:n,position:{lat:t,lng:a},key:r,onClick:function(){!function(e){s(e)}(e)}})};return c.a.createElement("div",{className:"geoWrapper"},c.a.createElement("div",{className:"toggleButton",onClick:function(){s(null),r()}},c.a.createElement("svg",{height:"32",width:"32"},c.a.createElement("path",{className:"iconToggle",d:"M3.58,13.99l15.83,10.7c1.19,0.81,2.81-0.05,2.81-1.49V1.8c0-1.44-1.61-2.3-2.81-1.49L3.58,11.01\r C2.52,11.72,2.52,13.28,3.58,13.99z"}))),c.a.createElement(y.Map,{google:t,zoom:2,initialCenter:{lat:48.701,lng:16.087},className:"geoLocator"},a.map((function(e){return m(e)}))),o?c.a.createElement(I,{data:o,isInGrid:!1}):null)})),j=function(e){var t=e.history,a=e.handleSubmit;return c.a.createElement("div",{className:"pageHeader"},c.a.createElement("div",{className:"pageLogo",onClick:function(){return a("",t)}},c.a.createElement("span",{id:"geo"},"geo"),c.a.createElement("span",{id:"snapshot"},"SNAPSHOT")),c.a.createElement("div",{className:"headerMain"},c.a.createElement(S,{history:t,handleSubmit:a}),c.a.createElement(P,{handleSubmit:a,history:t})))},C=function(){return c.a.createElement("div",{className:"loader"})},M=["Mountain","Lake","Forest","People","Food","Monument","Art","Museum","Graffitti","Music","Dance","Concert","Games","Night","Portrait","Beach","Casino","Park","Animal","Cat","Dog","Cemetery","Historic","Attraction","Sight","Woods","Store","Shopping","Restaurant","University","Hike","Zoo","Castle"],A=function(e){for(var t,a,n=Object(l.a)(e),c=n.length;0!==c;)a=Math.floor(Math.random()*c),t=n[c-=1],n[c]=n[a],n[a]=t;return n},w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5;return A(M).slice(0,e+1)},P=function(e){var t=e.handleSubmit,a=e.history,r=Object(n.useState)(w()),i=Object(k.a)(r,2),l=i[0],o=i[1];return Object(n.useEffect)((function(){return a.listen((function(){o(w())}))})),c.a.createElement("nav",{className:"navSuggestionWrapper"},c.a.createElement("div",{className:"navSuggestionLabel"},"Try searching for..."),c.a.createElement("ul",{className:"navSuggestionLinkList"},l.map((function(e){return c.a.createElement("li",{className:"navSuggestion",key:e},c.a.createElement("div",{className:"navLink",onClick:function(){return t(e,a)}},e))}))))},T=function(){return c.a.createElement("div",{className:"specialPage"},c.a.createElement("h2",null,"No Images Found"),c.a.createElement("p",null,"Please try a different search term"))},G=function(){return c.a.createElement("div",{className:"not-found"},c.a.createElement("h2",null,"Page Not Found"))},W=function(){return c.a.createElement("div",{className:"specialPage"},c.a.createElement("h2",null,"Welcome to ",c.a.createElement("span",{className:"welcomeGeo"},"geoSnapShot!")),c.a.createElement("h3",null,"Try searching for anything!"))},L=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).handleSubmit=n.handleSubmit.bind(Object(g.a)(n)),n.fetchPhotos=n.fetchPhotos.bind(Object(g.a)(n)),n.toggleMap=n.toggleMap.bind(Object(g.a)(n)),n.toggleImage=n.toggleImage.bind(Object(g.a)(n)),n.pickAll=n.pickAll.bind(Object(g.a)(n)),n.pickNone=n.pickNone.bind(Object(g.a)(n)),n.state={currentSearch:"",images:[],loading:!1,markers:[],isMapActive:!0,selectedImages:[],memo:{}},n}return Object(u.a)(a,[{key:"handleSubmit",value:function(e,t,a){a&&a.preventDefault(),this.setState({loading:!0,currentSearch:e},(function(){var a="/".concat(e);t.push(a)}))}},{key:"fetchPhotos",value:function(e){var t=this,a=this.state.memo,n=a[e];n?this.setState({images:n,loading:!1,currentSearch:e,selectedImages:[]}):f.a.get(function(e){return"".concat("https://api.flickr.com/services/rest/?method=flickr.photos.search","&api_key=").concat("636e1481b4f3c446d26b8eb6ebfe7127","&tags=").concat(e,"&has_geo=").concat(1,"&per_page=").concat(100,"&format=").concat("json","&extras=").concat("geo").concat("&nojsoncallback=1")}(e)).then((function(n){var c=n.data.photos.photo,r=Object(s.a)({},e,c),i=Object.assign(Object(o.a)({},a),r);t.setState({images:c,loading:!1,currentSearch:e,memo:i,selectedImages:[]})})).catch((function(e){console.error("Encountered an error with fetching and parsing data",e)}))}},{key:"toggleMap",value:function(){var e=this.state.isMapActive;this.setState({isMapActive:!e})}},{key:"toggleImage",value:function(e){var t=this.state.selectedImages,a=Object(l.a)(t),n=a.findIndex((function(t){return t.id===e.id}));n>-1?a.splice(n,1):a.push(e),this.setState({selectedImages:a})}},{key:"pickAll",value:function(){var e=this.state.images,t=Object(l.a)(e);this.setState({selectedImages:t})}},{key:"pickNone",value:function(){this.setState({selectedImages:[]})}},{key:"render",value:function(){var e=this,t=this.state,a=t.images,n=t.loading,r=t.isMapActive,i=t.selectedImages,l=t.currentSearch;return c.a.createElement(v.a,null,c.a.createElement(b.a,{render:function(t){return c.a.createElement(j,{handleSubmit:e.handleSubmit,history:t.history})}}),c.a.createElement("main",{className:"snapShotContainer ".concat(r?"active":"inactive")},c.a.createElement("div",{className:"categoryInfo ".concat(l.length?"active":"inactive")},c.a.createElement("h2",{className:"categoryTitle"},"Showing pictures of: ",c.a.createElement("span",{className:"searchQueryInCategory"},l)),c.a.createElement("div",{className:"displayOptions"},c.a.createElement("h3",{className:"massSelector",onClick:this.pickAll},"Pick All"),c.a.createElement("h3",{className:"massSelector",onClick:this.pickNone},"Clear Selection")),c.a.createElement("div",{className:"selectionTooltip ".concat(i.length?"active":"inactive")},"See your selections in the map! \u2192 ")),c.a.createElement(b.c,null,c.a.createElement(b.a,{exact:!0,path:"/SnapShot",component:W}),c.a.createElement(b.a,{path:"/:searchInput",render:function(t){return c.a.createElement(E,{searchTerm:t.match.params.searchInput,images:a,selectedImages:i,loading:n,fetchCallback:e.fetchPhotos,toggleImageCallback:e.toggleImage})}}),c.a.createElement(b.a,{component:G})),c.a.createElement(O,{items:i,isOpen:r,toggleMap:this.toggleMap})))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(c.a.createElement(L,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[39,1,2]]]);
//# sourceMappingURL=main.dfd15f98.chunk.js.map